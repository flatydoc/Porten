var burgerButton=document.querySelector(".header__burger-button"),sidebar=document.querySelector(".sidebar"),searchButton=document.querySelector(".header__search-button"),search=document.querySelector(".header__search"),userLink=document.querySelector(".header__navigation-user"),modalLogin=document.querySelector(".modal__user"),modalForm=document.querySelector(".modal__form"),modalClose=document.querySelector(".modal-close"),login=modalLogin.querySelector("[name=login]"),password=modalLogin.querySelector("[name=password]");function testWebP(e){var o=new Image;o.onload=o.onerror=function(){e(2==o.height)},o.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}testWebP((function(e){1==e?document.querySelector("body").classList.add("webp"):document.querySelector("body").classList.add("no-webp")})),burgerButton.addEventListener("click",(function(e){e.preventDefault(),burgerButton.classList.toggle("header__burger-close"),sidebar.classList.toggle("sidebar-show")})),search.addEventListener("click",(function(){searchButton.classList.add("header__search-show")}));var isStorageSupport=!0,storage=" ";try{storage=localStorage.getItem("login")}catch(e){isStorageSupport=!1}userLink.addEventListener("click",(function(e){e.preventDefault(),modalLogin.classList.toggle("modal__user-show"),login.focus(),storage?(login.value=storage,password.focus()):login.focus()})),modalClose.addEventListener("click",(function(e){e.preventDefault(),modalLogin.classList.remove("modal__user-show"),modalLogin.classList.remove("modal-error")})),window.addEventListener("keydown",(function(e){27===e.keyCode&&modalLogin.classList.contains("modal__user-show")&&(e.preventDefault(),modalLogin.classList.remove("modal__user-show"),modalLogin.classList.remove("modal-error"))})),modalForm.addEventListener("submit",(function(e){login.value&&password.value?isStorageSupport&&localStorage.setItem("login",login.value):(e.preventDefault(),modalLogin.classList.remove("modal-error"),modalLogin.offsetWidth=modalLogin.offsetWidth,modalLogin.classList.add("modal-error"),console.log("Нужно ввести логин и пароль"))}));